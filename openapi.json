{"components":{"responses":{},"schemas":{"Album":{"description":"An album","example":{"id":"6f8c1f9e-0c59-4b6a-9ae4-bf6f208d3e1c","name":"The Best Album","release_date":"2022-01-01","spotify_id":"4Z8W4fKeB5YxbusRsdQVPb"},"properties":{"id":{"description":"Album ID","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Name of the album","type":"string","x-struct":null,"x-validate":null},"release_date":{"description":"Release date of the album","type":"string","x-struct":null,"x-validate":null},"spotify_id":{"description":"Spotify ID","type":"string","x-struct":null,"x-validate":null}},"required":["id","spotify_id","name","release_date"],"title":"Album","type":"object","x-struct":"Elixir.DiscogrifyWeb.Schemas.Album","x-validate":null},"AlbumsResponse":{"description":"List of albums response","example":{"data":[{"id":"6f8c1f9e-0c59-4b6a-9ae4-bf6f208d3e1c","name":"The Best Album","release_date":"2022-01-23","spotify_id":"4Z8W4fKeB5YxbusRsdQVPb"},{"id":"6b5fee77-635c-4a48-beca-ea1f96869849","name":"Another Best Album","release_date":"2021-09-01","spotify_id":"756w4fkeb5yxbusrsdqvpb"}]},"properties":{"data":{"properties":{"albums":{"items":{"$ref":"#/components/schemas/Album"},"type":"array","x-struct":null,"x-validate":null}},"required":["albums"],"type":"object","x-struct":null,"x-validate":null}},"required":["data"],"title":"AlbumsResponse","type":"object","x-struct":"Elixir.DiscogrifyWeb.Schemas.AlbumsResponse","x-validate":null},"ErrorResponse":{"description":"Error response","example":{"error":"Invalid credentials"},"properties":{"error":{"description":"Error message","type":"string","x-struct":null,"x-validate":null}},"required":["error"],"title":"ErrorResponse","type":"object","x-struct":"Elixir.DiscogrifyWeb.Schemas.ErrorResponse","x-validate":null},"LoginRequest":{"description":"Login request with email and password","example":{"email":"user@example.com","password":"password"},"properties":{"email":{"description":"User email","format":"email","type":"string","x-struct":null,"x-validate":null},"password":{"description":"User password","minLength":1,"type":"string","x-struct":null,"x-validate":null}},"required":["email","password"],"title":"LoginRequest","type":"object","x-struct":"Elixir.DiscogrifyWeb.Schemas.LoginRequest","x-validate":null},"LoginResponse":{"description":"Login response with authentication token","example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","user":{"email":"user@example.com","id":1}},"properties":{"token":{"description":"Authentication bearer token","type":"string","x-struct":null,"x-validate":null},"user":{"properties":{"email":{"description":"User email","type":"string","x-struct":null,"x-validate":null},"id":{"description":"User ID","type":"integer","x-struct":null,"x-validate":null}},"required":["id","email"],"type":"object","x-struct":null,"x-validate":null}},"required":["token","user"],"title":"LoginResponse","type":"object","x-struct":"Elixir.DiscogrifyWeb.Schemas.LoginResponse","x-validate":null}},"securitySchemes":{"bearer":{"bearerFormat":"Phoenix Token","description":"Phoenix built-in token authentication","scheme":"bearer","type":"http"}}},"info":{"title":"discogrify","version":"0.1.0"},"openapi":"3.0.0","paths":{"/api/albums":{"get":{"callbacks":{},"description":"Search an artist's albums","operationId":"search","parameters":[{"description":"artist name","example":"radiohead","in":"query","name":"artist_name","required":true,"schema":{"type":"string","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlbumsResponse"}}},"description":"Albums List Response"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Authentication required"}},"security":[{"bearer":[]}],"summary":"Search albums","tags":["Albums"]}},"/api/auth/login":{"post":{"callbacks":{},"description":"Authenticate user and return bearer token","operationId":"login","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"description":"Login credentials","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}},"description":"Login successful"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Invalid credentials"}},"summary":"User login","tags":["Authentication"]}}},"security":[],"servers":[{"url":"http://localhost:4000","variables":{}}],"tags":[{"description":"Authentication endpoints for user login and token management","name":"Authentication"},{"description":"Album search and management endpoints","name":"Albums"}]}
